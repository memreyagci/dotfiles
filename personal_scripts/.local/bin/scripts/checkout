#!/bin/sh

abortion() {
    echo "Aborting.." && exit
}

REPOS_DIR="$HOME/documents/repos"

repos_to_check=(
    "dwm"
    "dwmblocks"
    "dmenu"
    "st"
)

CHECKED="✅"
CROSS="❌"

cd $HOME/.dotfiles

[[ "$(git status | head -4 | tail -1)" != "nothing to commit, working tree clean" ]] && echo "$CROSS You have uncommitted changes for your dotfiles." || echo "$CHECKED Dotfiles are checked."

for REPO in "${repos_to_check[@]}"; do
    cd $REPOS_DIR/$REPO
    [[ "$(git status | head -4 | tail -1)" != "nothing to commit, working tree clean" ]] && echo "$CROSS You have uncommitted changes for $REPO repository." || echo "$CHECKED $REPO is checked."
done

echo -e "\nDid you back up your RSS feed list?"
echo "Did you back up your bookmarks?"
echo "Did you check your home directory?"
echo "Did you take a backup of your documents directory?"
echo "Does your Ansible configuration include all the new packages?"

#echo -e "\nEverything is checked. You can safely install your new system now."
